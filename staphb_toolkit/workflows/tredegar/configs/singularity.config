singularity.enabled = true

includeConfig 'docker_containers.config'

process {
  stageInMode = "link"

  withName:mash_sketch{
    container = mash_container
  }
  withName:mash_dist{
    container = mash_container
  }
  withName:mash_species{
    container = lyveset_container
  }
  withName:seqyclean{
    container = seqyclean_container
  }
  withName:shovill{
    cpus=8
    memory = '15 GB'
    container = shovill_container
  }
  withName:quast{
    container = quast_container
  }
  withName:cg_pipeline{
    container = lyveset_container
  }
  withName:emmtype_finder{
    container = emmtype_finder_container
  }
  withName:serotypefinder{
    container = serotypefinder_container
  }
  withName:seqsero{
    container = seqsero_container
  }
  withName:results{
    container = lyveset_container
  }
}
